import{K as L,V as z,j as e,B as I}from"./index-A8xx-xxW.js";import{u as M,F as _,a as i,b as l,c as r,d as o,e as m,h as t,s as K,z as a}from"./form-NQCUH1ql.js";import{s as q}from"./toast-Cu_8kZFb.js";import{S as j,a as u,b as p,c as g,d as h}from"./select-pnobd5xa.js";import{C as d}from"./checkbox-0GfaeNTR.js";import"./index-DNZbadIk.js";import"./check-De8WsGE6.js";const G=a.object({language:a.enum(["fr","en"],{required_error:"Veuillez sélectionner une langue"}),theme:a.enum(["light","dark"],{required_error:"Veuillez sélectionner un thème"}),preferences:a.object({saveHistory:a.boolean(),autoPlayVideos:a.boolean(),enableSounds:a.boolean(),showRecommendations:a.boolean(),enableBetaFeatures:a.boolean()}),notifications:a.object({email:a.boolean(),push:a.boolean(),promotions:a.boolean(),updates:a.boolean(),newsletter:a.boolean(),loginAlerts:a.boolean()}),privacy:a.object({showEmail:a.boolean(),showProfile:a.boolean(),showActivity:a.boolean()}),security:a.object({twoFactor:a.boolean(),sessionTimeout:a.string()})});function Z(){var f,v,y,N,C,b,w,k,S,F,A,P,R,V,E,T;const{user:n,updateSettings:B}=L(),{setTheme:D}=z(),c=M({resolver:K(G),defaultValues:{language:(n==null?void 0:n.language)||"fr",theme:(n==null?void 0:n.theme)||"light",preferences:{saveHistory:((f=n==null?void 0:n.preferences)==null?void 0:f.saveHistory)||!1,autoPlayVideos:((v=n==null?void 0:n.preferences)==null?void 0:v.autoPlayVideos)||!1,enableSounds:((y=n==null?void 0:n.preferences)==null?void 0:y.enableSounds)||!0,showRecommendations:((N=n==null?void 0:n.preferences)==null?void 0:N.showRecommendations)||!0,enableBetaFeatures:((C=n==null?void 0:n.preferences)==null?void 0:C.enableBetaFeatures)||!1},notifications:{email:((b=n==null?void 0:n.notifications)==null?void 0:b.email)||!1,push:((w=n==null?void 0:n.notifications)==null?void 0:w.push)||!1,promotions:((k=n==null?void 0:n.notifications)==null?void 0:k.promotions)||!1,updates:((S=n==null?void 0:n.notifications)==null?void 0:S.updates)||!1,newsletter:((F=n==null?void 0:n.notifications)==null?void 0:F.newsletter)||!1,loginAlerts:((A=n==null?void 0:n.notifications)==null?void 0:A.loginAlerts)||!1},privacy:{showEmail:((P=n==null?void 0:n.privacy)==null?void 0:P.showEmail)||!1,showProfile:((R=n==null?void 0:n.privacy)==null?void 0:R.showProfile)||!1,showActivity:((V=n==null?void 0:n.privacy)==null?void 0:V.showActivity)||!1},security:{twoFactor:((E=n==null?void 0:n.security)==null?void 0:E.twoFactor)||!1,sessionTimeout:((T=n==null?void 0:n.security)==null?void 0:T.sessionTimeout)||"15 minutes"}}}),H=async s=>{try{D(s.theme);const x=await B({language:s.language,theme:s.theme,preferences:s.preferences,notifications:s.notifications,privacy:s.privacy,security:s.security});if(x.success)q.success("Paramètres mis à jour avec succès");else throw new Error(x.error)}catch(x){console.error("Erreur lors de la mise à jour des paramètres:",x),q.error("Erreur lors de la mise à jour des paramètres")}};return e.jsx("div",{className:"container mx-auto py-8",children:e.jsxs("div",{className:"bg-background p-6 rounded-lg",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Paramètres"})}),e.jsx(_,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(H),className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Préférences générales"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{control:c.control,name:"language",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Langue"}),e.jsx(o,{children:e.jsxs(j,{value:s.value,onValueChange:s.onChange,children:[e.jsx(u,{children:e.jsx(p,{placeholder:"Sélectionner une langue"})}),e.jsxs(g,{children:[e.jsx(h,{value:"fr",children:"Français"}),e.jsx(h,{value:"en",children:"English"})]})]})}),e.jsx(m,{})]})}),e.jsx(i,{control:c.control,name:"theme",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Thème"}),e.jsx(o,{children:e.jsxs(j,{value:s.value,onValueChange:s.onChange,children:[e.jsx(u,{children:e.jsx(p,{placeholder:"Sélectionner un thème"})}),e.jsxs(g,{children:[e.jsx(h,{value:"light",children:"Clair"}),e.jsx(h,{value:"dark",children:"Sombre"})]})]})}),e.jsx(m,{})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Préférences utilisateur"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(i,{control:c.control,name:"preferences.saveHistory",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Sauvegarder l'historique"}),e.jsx(t,{children:"Conserver l'historique de navigation et d'activité"})]})]})}),e.jsx(i,{control:c.control,name:"preferences.autoPlayVideos",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Lecture automatique des vidéos"}),e.jsx(t,{children:"Lancer automatiquement la lecture des vidéos"})]})]})}),e.jsx(i,{control:c.control,name:"preferences.enableSounds",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Activer les sons"}),e.jsx(t,{children:"Activer les effets sonores de l'interface"})]})]})}),e.jsx(i,{control:c.control,name:"preferences.showRecommendations",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Afficher les recommandations"}),e.jsx(t,{children:"Afficher des suggestions personnalisées"})]})]})}),e.jsx(i,{control:c.control,name:"preferences.enableBetaFeatures",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Fonctionnalités bêta"}),e.jsx(t,{children:"Activer les fonctionnalités expérimentales"})]})]})})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.jsxs("div",{className:"space-y-4 md:col-span-2",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Notifications"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(i,{control:c.control,name:"notifications.email",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Notifications par email"}),e.jsx(t,{children:"Recevoir les notifications par email"})]})]})}),e.jsx(i,{control:c.control,name:"notifications.push",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Notifications push"}),e.jsx(t,{children:"Recevoir les notifications push"})]})]})}),e.jsx(i,{control:c.control,name:"notifications.promotions",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Promotions"}),e.jsx(t,{children:"Recevoir les offres promotionnelles"})]})]})}),e.jsx(i,{control:c.control,name:"notifications.updates",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Mises à jour"}),e.jsx(t,{children:"Recevoir les notifications de mises à jour"})]})]})}),e.jsx(i,{control:c.control,name:"notifications.newsletter",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Newsletter"}),e.jsx(t,{children:"Recevoir notre newsletter"})]})]})}),e.jsx(i,{control:c.control,name:"notifications.loginAlerts",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Alertes de connexion"}),e.jsx(t,{children:"Recevoir une notification lors d'une nouvelle connexion"})]})]})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.jsxs("div",{className:"space-y-4 md:col-span-2",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Confidentialité"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(i,{control:c.control,name:"privacy.showEmail",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Afficher l'email"}),e.jsx(t,{children:"Rendre votre email visible aux autres utilisateurs"})]})]})}),e.jsx(i,{control:c.control,name:"privacy.showProfile",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Afficher le profil"}),e.jsx(t,{children:"Rendre votre profil visible aux autres utilisateurs"})]})]})}),e.jsx(i,{control:c.control,name:"privacy.showActivity",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Afficher l'activité"}),e.jsx(t,{children:"Rendre votre activité visible aux autres utilisateurs"})]})]})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.jsxs("div",{className:"space-y-4 md:col-span-2",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Sécurité"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(i,{control:c.control,name:"security.twoFactor",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(d,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(r,{children:"Double authentification"}),e.jsx(t,{children:"Activer la double authentification pour plus de sécurité"})]})]})}),e.jsx(i,{control:c.control,name:"security.sessionTimeout",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Délai d'expiration de session"}),e.jsx(o,{children:e.jsxs(j,{value:s.value,onValueChange:s.onChange,children:[e.jsx(u,{children:e.jsx(p,{placeholder:"Sélectionner un délai"})}),e.jsxs(g,{children:[e.jsx(h,{value:"15 minutes",children:"15 minutes"}),e.jsx(h,{value:"30 minutes",children:"30 minutes"}),e.jsx(h,{value:"1 hour",children:"1 heure"}),e.jsx(h,{value:"4 hours",children:"4 heures"}),e.jsx(h,{value:"8 hours",children:"8 heures"}),e.jsx(h,{value:"24 hours",children:"24 heures"})]})]})}),e.jsx(t,{children:"Durée avant la déconnexion automatique"}),e.jsx(m,{})]})})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{type:"submit",children:"Enregistrer les modifications"})})]})})]})})}export{Z as default};
