const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/game-filter-sidebar-ISIx6_S7.js","assets/index-A8xx-xxW.js","assets/index-B41Dxm5k.css","assets/catalog-layout-CapVVbF_.js","assets/select-pnobd5xa.js","assets/index-DNZbadIk.js","assets/check-De8WsGE6.js","assets/skeleton-D6u_i3Qj.js","assets/card-DVQQUcVi.js","assets/checkbox-0GfaeNTR.js","assets/slider-WpAHhGps.js","assets/badge-Dcq_zIk8.js","assets/game-display-CP6e2nvv.js","assets/use-games-B7VBt7au.js","assets/games-Ckgb04l5.js","assets/toast-Cu_8kZFb.js","assets/motion-BMEn2pEQ.js","assets/pagination-Cxq5DVxe.js","assets/ellipsis-DGixAxWM.js"])))=>i.map(i=>d[i]);
import{j as s,r as i,_ as d}from"./index-A8xx-xxW.js";import{u as h}from"./use-games-B7VBt7au.js";import{u as j}from"./use-categories-DUGgby4t.js";import{C as y}from"./catalog-layout-CapVVbF_.js";import{S as r}from"./skeleton-D6u_i3Qj.js";import"./games-Ckgb04l5.js";import"./games-categories-DBzAI_sh.js";import"./objects-categories-DQIGr8qy.js";import"./packs-categories-C9IA-Fff.js";import"./select-pnobd5xa.js";import"./index-DNZbadIk.js";import"./check-De8WsGE6.js";import"./card-DVQQUcVi.js";const _=i.lazy(()=>d(()=>import("./game-filter-sidebar-ISIx6_S7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(t=>({default:t.GameFilterSidebar}))),S=i.lazy(()=>d(()=>import("./game-display-CP6e2nvv.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,13,14,15,16,17,18])).then(t=>({default:t.GameDisplay}))),N=()=>{const t=Array.from({length:5},(a,o)=>`category-skeleton-${o}`),n=Array.from({length:3},(a,o)=>`platform-skeleton-${o}`);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(r,{className:"h-6 w-32 mb-4"}),s.jsx("div",{className:"space-y-2",children:t.map(a=>s.jsx(r,{className:"h-8 w-full"},a))})]}),s.jsxs("div",{children:[s.jsx(r,{className:"h-6 w-28 mb-4"}),s.jsx("div",{className:"space-y-2",children:n.map(a=>s.jsx(r,{className:"h-8 w-full"},a))})]}),s.jsxs("div",{children:[s.jsx(r,{className:"h-6 w-28 mb-4"}),s.jsx(r,{className:"h-12 w-full"})]})]})};function F(){const{games:t}=h(),{getAllCategories:n}=j("games"),a=n().map(e=>({id:e.id.toString(),name:e.name,count:t.filter(l=>l.genres.includes(e.name)).length})).filter(e=>e.count>0),o=t.reduce((e,l)=>{for(const m of l.platforms){const c=e.find(x=>x.id===m);c?c.count++:e.push({id:m,name:m,count:1})}return e},[]).filter(e=>e.count>0),p={amount:Math.max(...t.map(e=>e.price.amount),100),currency:"EUR"},u=t.filter(e=>(e.price.discount||0)>0).length,f=t.filter(e=>e.isNewRelease).length,g=Array.from({length:8},(e,l)=>`game-skeleton-${l}`);return s.jsx(y,{title:"Jeux",type:"games",filterSidebar:s.jsx(i.Suspense,{fallback:s.jsx(N,{}),children:s.jsx(_,{categories:a,platforms:o,maxPrice:p,discountedCount:u,newReleasesCount:f})}),content:s.jsx(i.Suspense,{fallback:s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:g.map(e=>s.jsx(r,{className:"h-[300px] rounded-lg"},e))}),children:s.jsx(S,{})})})}export{F as default};
