import{r as o,j as e,B as v,O as z,t as X,g as J,k as Q,h as V,i as Z,$ as ee,b as B,a0 as se}from"./index-A8xx-xxW.js";import{T as te,a as ae,b as g,c as S}from"./tabs-BzHdM6Nv.js";import{u as F,s as I,F as T,a as w,b as k,h as C,z as h,c as A,d as N,e as H}from"./form-NQCUH1ql.js";import{C as E,c as K,d as M,e as R,a as L,b as D}from"./card-DVQQUcVi.js";import{u as re}from"./index-DNZbadIk.js";function ne(){const[t,a]=o.useState(!1),[s,r]=o.useState(null),[i]=o.useState({name:"Admin User",email:"admin@example.com",role:"admin",permissions:["users.manage","settings.manage","system.manage"]}),[u]=o.useState({twoFactorEnabled:!0,ipWhitelist:["127.0.0.1"],adminAccessLevel:"full"}),[c]=o.useState(["admin-key-1","admin-key-2"]);return{profileSettings:i,securitySettings:u,apiKeys:c,isLoading:t,error:s,updateProfileSettings:async d=>{a(!0);try{await new Promise(n=>setTimeout(n,1e3)),console.log("Admin profile updated:",d)}catch(n){r(n)}finally{a(!1)}},updateSecuritySettings:async d=>{a(!0);try{await new Promise(n=>setTimeout(n,1e3)),console.log("Admin security settings updated:",d)}catch(n){r(n)}finally{a(!1)}},addAPIKey:async d=>{a(!0);try{await new Promise(n=>setTimeout(n,1e3)),console.log("Admin API key added:",d)}catch(n){r(n)}finally{a(!1)}},deleteAPIKey:async d=>{a(!0);try{await new Promise(n=>setTimeout(n,1e3)),console.log("Admin API key deleted:",d)}catch(n){r(n)}finally{a(!1)}},manageUsers:async()=>{},manageSystem:async()=>{}}}const ie=h.object({keys:h.array(h.string())});function oe({apiKeys:t,onAdd:a,onDelete:s}){const r=F({resolver:I(ie),defaultValues:{keys:t}});return e.jsxs(E,{children:[e.jsxs(K,{children:[e.jsx(M,{children:"API Keys"}),e.jsx(R,{children:"Manage your API keys for external integrations"})]}),e.jsx(T,{...r,children:e.jsxs("form",{className:"space-y-4",children:[e.jsx(L,{children:e.jsx(w,{control:r.control,name:"keys",render:()=>e.jsxs(k,{children:[e.jsx("div",{className:"space-y-2",children:t.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsx("code",{className:"text-sm",children:i}),e.jsx(v,{variant:"destructive",size:"sm",type:"button",onClick:()=>s(i),children:"Delete"})]},i))}),e.jsx(C,{children:"Your API keys are used to authenticate your requests."})]})})}),e.jsx(D,{children:e.jsx(v,{type:"button",onClick:()=>a(`test-key-${Date.now()}`),children:"Generate New Key"})})]})})]})}const ce=h.object({name:h.string().min(2,{message:"Name must be at least 2 characters."}),email:h.string().email({message:"Please enter a valid email address."})});function le({initialData:t,onSubmit:a}){const s=F({resolver:I(ce),defaultValues:{name:t.name||"",email:t.email||""}});return e.jsxs(E,{children:[e.jsxs(K,{children:[e.jsx(M,{children:"Profile"}),e.jsx(R,{children:"Manage your profile information"})]}),e.jsx(T,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-4",children:[e.jsxs(L,{className:"space-y-4",children:[e.jsx(w,{control:s.control,name:"name",render:({field:r})=>e.jsxs(k,{children:[e.jsx(A,{children:"Name"}),e.jsx(N,{children:e.jsx(z,{...r})}),e.jsx(C,{children:"This is your public display name."}),e.jsx(H,{})]})}),e.jsx(w,{control:s.control,name:"email",render:({field:r})=>e.jsxs(k,{children:[e.jsx(A,{children:"Email"}),e.jsx(N,{children:e.jsx(z,{type:"email",...r})}),e.jsx(C,{children:"Your email address for notifications."}),e.jsx(H,{})]})})]}),e.jsx(D,{children:e.jsx(v,{type:"submit",children:"Save Changes"})})]})})]})}var U="Switch",[de,ke]=Q(U),[ue,me]=de(U),q=o.forwardRef((t,a)=>{const{__scopeSwitch:s,name:r,checked:i,defaultChecked:u,required:c,disabled:l,value:m="on",onCheckedChange:x,form:p,...y}=t,[f,d]=o.useState(null),n=X(a,b=>d(b)),P=o.useRef(!1),_=f?p||!!f.closest("form"):!0,[j=!1,Y]=J({prop:i,defaultProp:u,onChange:x});return e.jsxs(ue,{scope:s,checked:j,disabled:l,children:[e.jsx(V.button,{type:"button",role:"switch","aria-checked":j,"aria-required":c,"data-state":W(j),"data-disabled":l?"":void 0,disabled:l,value:m,...y,ref:n,onClick:Z(t.onClick,b=>{Y(G=>!G),_&&(P.current=b.isPropagationStopped(),P.current||b.stopPropagation())})}),_&&e.jsx(he,{control:f,bubbles:!P.current,name:r,value:m,checked:j,required:c,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});q.displayName=U;var O="SwitchThumb",$=o.forwardRef((t,a)=>{const{__scopeSwitch:s,...r}=t,i=me(O,s);return e.jsx(V.span,{"data-state":W(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:a})});$.displayName=O;var he=t=>{const{control:a,checked:s,bubbles:r=!0,...i}=t,u=o.useRef(null),c=re(s),l=ee(a);return o.useEffect(()=>{const m=u.current,x=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(x,"checked").set;if(c!==s&&y){const f=new Event("click",{bubbles:r});y.call(m,s),m.dispatchEvent(f)}},[c,s,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:u,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function W(t){return t?"checked":"unchecked"}var xe=q,pe=$;function fe({className:t,...a}){return e.jsx(xe,{"data-slot":"switch",className:B("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 inline-flex h-5 w-9 shrink-0 items-center rounded-full border-2 border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:e.jsx(pe,{"data-slot":"switch-thumb",className:B("bg-background pointer-events-none block size-4 rounded-full ring-0 shadow-lg transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})}const ye=h.object({twoFactorEnabled:h.boolean().default(!1)});function je({initialData:t,onSubmit:a}){const s=F({resolver:I(ye),defaultValues:{twoFactorEnabled:t.twoFactorEnabled||!1}});return e.jsxs(E,{children:[e.jsxs(K,{children:[e.jsx(M,{children:"Security Settings"}),e.jsx(R,{children:"Manage your account security preferences"})]}),e.jsx(T,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-4",children:[e.jsx(L,{children:e.jsx(w,{control:s.control,name:"twoFactorEnabled",render:({field:r})=>e.jsxs(k,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(A,{className:"text-base",children:"Two-factor Authentication"}),e.jsx(C,{children:"Add an extra layer of security to your account"})]}),e.jsx(N,{children:e.jsx(fe,{checked:r.value,onCheckedChange:r.onChange})})]})})}),e.jsx(D,{children:e.jsx(v,{type:"submit",children:"Save Changes"})})]})})]})}const Ce=()=>{const{profileSettings:t,apiKeys:a,securitySettings:s,isLoading:r,error:i,updateProfileSettings:u,addAPIKey:c,deleteAPIKey:l,updateSecuritySettings:m,manageUsers:x,manageSystem:p}=ne();return r?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(se,{className:"animate-spin"})}):i?e.jsx("div",{className:"text-red-500",children:i.message}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Settings"}),e.jsxs(te,{defaultValue:"profile",children:[e.jsxs(ae,{children:[e.jsx(g,{value:"profile",children:"Admin Profile"}),e.jsx(g,{value:"api-keys",children:"API Keys"}),e.jsx(g,{value:"security",children:"Security"}),e.jsx(g,{value:"system",children:"System"})]}),e.jsx(S,{value:"profile",children:t&&e.jsx(le,{initialData:t,onSubmit:u})}),e.jsx(S,{value:"api-keys",children:e.jsx(oe,{apiKeys:a,onAdd:c,onDelete:l})}),e.jsx(S,{value:"security",children:s&&e.jsx(je,{initialData:s,onSubmit:m})}),e.jsx(S,{value:"system",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{type:"button",onClick:x,children:"Manage Users"}),e.jsx("button",{type:"button",onClick:p,children:"System Settings"})]})})]})]})};export{Ce as default};
