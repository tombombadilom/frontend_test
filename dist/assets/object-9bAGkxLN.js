import{c as P,e as B,r as c,j as e,B as o,m as x,L as D,P as T,S as _,H as q}from"./index-A8xx-xxW.js";import{B as p}from"./badge-Dcq_zIk8.js";import{C as d,a as m,c as R}from"./card-DVQQUcVi.js";import{S as t}from"./skeleton-D6u_i3Qj.js";import G from"./objects-CxMhMVRW.js";import{T as H,a as z,b as N,c as g}from"./tabs-BzHdM6Nv.js";import F from"./games-Ckgb04l5.js";import O from"./packs-DJH6lIvg.js";import{S as M}from"./share-2-CLSA8Gvr.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],J=P("Gamepad",U),S={common:"bg-slate-500",uncommon:"bg-green-500",rare:"bg-blue-500",epic:"bg-purple-500",legendary:"bg-amber-500"};function V(i){if(!i||typeof i!="object")return!1;const s=i;return!(typeof s.isFeatured!="boolean"||s.damage!==void 0&&typeof s.damage!="number"&&typeof s.damage!="string"||s.durability!==void 0&&typeof s.durability!="number"&&typeof s.durability!="string"||s.effects!==void 0&&(!Array.isArray(s.effects)||!s.effects.every(f=>typeof f=="string"))||s.rating!==void 0&&typeof s.rating!="number"||s.stock!==void 0&&typeof s.stock!="number"||s.isAvailable!==void 0&&typeof s.isAvailable!="boolean"||s.tradeable!==void 0&&typeof s.tradeable!="boolean"||s.gameRequirement!==void 0&&typeof s.gameRequirement!="string"||s.element!==void 0&&typeof s.element!="string"||s.type!==void 0&&typeof s.type!="string"||s.setBonus!==void 0&&typeof s.setBonus!="string"||s.criticalRange!==void 0&&typeof s.criticalRange!="string"||s.stealthDisadvantage!==void 0&&typeof s.stealthDisadvantage!="boolean"||s.bleed!==void 0&&typeof s.bleed!="number"||s.duration!==void 0&&typeof s.duration!="string"||s.cooldown!==void 0&&typeof s.cooldown!="string")}const K=()=>e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-6",children:[e.jsx(t,{className:"h-4 w-20"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx(t,{className:"h-4 w-20"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx(t,{className:"h-4 w-32"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-4",children:e.jsx(t,{className:"w-full aspect-video rounded-lg"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(t,{className:"h-8 w-3/4 mb-4"}),e.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[Array.from({length:5}).map((i,s)=>e.jsx(t,{className:"h-5 w-5 rounded-full"},`skeleton-rating-star-${s+1}`)),e.jsx(t,{className:"h-5 w-8 ml-2"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:3}).map((i,s)=>e.jsx(t,{className:"h-6 w-20"},`skeleton-tag-item-${s+1}`))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"h-6 w-32"}),e.jsx(t,{className:"h-24 w-full"})]}),e.jsx(d,{children:e.jsxs(m,{className:"p-4",children:[e.jsx(t,{className:"h-6 w-40 mb-4"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:Array.from({length:6}).map((i,s)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(t,{className:"h-4 w-20"}),e.jsx(t,{className:"h-4 w-12"})]},`skeleton-stats-row-${s+1}`))})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"h-6 w-24"}),e.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((i,s)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(t,{className:"h-5 w-5 shrink-0"}),e.jsx(t,{className:"h-5 w-full"})]},`skeleton-effect-item-${s+1}`))})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx(t,{className:"h-10 w-32"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:"flex border rounded-md",children:e.jsx(t,{className:"h-10 w-32"})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(t,{className:"h-12 flex-1"}),e.jsx(t,{className:"h-12 w-32"}),e.jsx(t,{className:"h-12 w-12"})]})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx(t,{className:"h-10 w-full max-w-md mb-6"}),e.jsxs(d,{children:[e.jsx(R,{children:e.jsx(t,{className:"h-6 w-48"})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((i,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{className:"h-4 w-32"}),e.jsx(t,{className:"h-4 w-48"})]},`skeleton-detail-row-${s+1}`))})})]})]})]}),C=i=>i?new Date(i).toLocaleDateString():"Non spécifiée",ie=()=>{const{id:i}=B(),[s,f]=c.useState(!0),[y,v]=c.useState(null),[a,A]=c.useState(null),[u,I]=c.useState(null),[h,E]=c.useState([]);c.useEffect(()=>{(async()=>{try{if(f(!0),v(null),!i)throw new Error("ID de l'objet non spécifié");await new Promise(r=>setTimeout(r,1e3));const n=G.items.find(r=>r.id===Number.parseInt(i,10));if(!n)throw new Error("Objet non trouvé");const j={...n,availability:{...n.availability,isLimited:n.availability.isLimited??!1}},k=F.games.find(r=>r.id===j.gameId);k&&I(k);const L=O.packs.filter(r=>r.items.some($=>$===j.id.toString())).map(r=>({...r,type:r.type,availability:{inStock:!0,quantity:void 0}}));E(L),A(j)}catch(n){v(n instanceof Error?n.message:"Une erreur est survenue")}finally{f(!1)}})()},[i]);const b=()=>window.history.back();if(s)return e.jsx(K,{});if(y||!a)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[e.jsx("div",{className:"text-destructive text-xl mb-4",children:y||"Données non disponibles"}),e.jsx(o,{onClick:b,children:"Retour"})]});if(!V(a.metadata))return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[e.jsx("div",{className:"text-destructive text-xl mb-4",children:"Erreur: Métadonnées de l'objet invalides"}),e.jsx(o,{onClick:b,children:"Retour"})]});const w=S[a.rarity]||S.common;return e.jsx("div",{className:"container mx-auto py-8 px-4",children:e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-6",children:[e.jsx("span",{children:"Home"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{children:"Items"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"font-medium text-foreground",children:a.name})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs(x.div,{className:"relative rounded-lg overflow-hidden bg-muted",whileHover:{scale:1.02},transition:{duration:.3},children:[e.jsx(x.img,{src:a.preview.imageUrl,alt:a.name,className:"w-full aspect-video object-cover",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}),e.jsx(x.div,{className:"absolute top-4 right-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:e.jsx(p,{className:`${w} text-white px-3 py-1`,children:a.rarity})})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold",children:a.name}),e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[a.price.currency," ",a.price.amount.toFixed(2)]})]}),u&&e.jsxs(D,{to:`/games/${u.id}`,className:"flex items-center gap-2 p-4 rounded-lg bg-muted hover:bg-muted/80 transition-colors mb-6",children:[e.jsx(J,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Jeu associé"}),e.jsx("div",{className:"font-medium",children:u.title})]})]}),e.jsxs(H,{defaultValue:"details",className:"mb-6",children:[e.jsxs(z,{className:"grid w-full grid-cols-3",children:[e.jsx(N,{value:"details",children:"Détails"}),e.jsx(N,{value:"stats",children:"Statistiques"}),e.jsxs(N,{value:"packs",children:["Packs (",h.length,")"]})]}),e.jsx(g,{value:"details",children:e.jsx(d,{children:e.jsxs(m,{className:"pt-6",children:[e.jsx("p",{className:"text-muted-foreground mb-6",children:a.description}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Catégorie:"}),e.jsx("span",{className:"font-medium",children:a.category})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Rareté:"}),e.jsx(p,{className:w,children:a.rarity})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Disponibilité:"}),e.jsxs("span",{className:"font-medium",children:[C(a.availability.startDate)," - ",a.availability.endDate?C(a.availability.endDate):"Illimitée"]})]})]})]})})}),e.jsx(g,{value:"stats",children:e.jsx(d,{children:e.jsxs(m,{className:"pt-6 grid grid-cols-2 gap-4",children:[a.metadata.damage&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Dégâts:"}),e.jsx("span",{className:"font-medium",children:a.metadata.damage})]}),a.metadata.durability&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Durabilité:"}),e.jsx("span",{className:"font-medium",children:a.metadata.durability})]}),a.metadata.element&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Élément:"}),e.jsx("span",{className:"font-medium",children:a.metadata.element})]}),a.metadata.criticalRange&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Critique:"}),e.jsx("span",{className:"font-medium",children:a.metadata.criticalRange})]}),a.metadata.bleed&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Saignement:"}),e.jsx("span",{className:"font-medium",children:a.metadata.bleed})]}),a.metadata.duration&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Durée:"}),e.jsx("span",{className:"font-medium",children:a.metadata.duration})]}),a.metadata.cooldown&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Recharge:"}),e.jsx("span",{className:"font-medium",children:a.metadata.cooldown})]})]})})}),e.jsx(g,{value:"packs",children:e.jsx(d,{children:e.jsx(m,{className:"pt-6",children:h.length>0?e.jsx("div",{className:"space-y-4",children:h.map(l=>e.jsxs(D,{to:`/packs/${l.id}`,className:"flex items-center gap-4 p-4 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(T,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:l.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.description})]}),e.jsxs("div",{className:"font-bold text-primary",children:[l.price.currency," ",l.price.amount.toFixed(2)]})]},l.id))}):e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Cet objet n'est disponible dans aucun pack"})})})})]}),a.metadata.effects&&a.metadata.effects.length>0&&e.jsxs(d,{className:"mb-6",children:[e.jsx(R,{children:e.jsx("h2",{className:"text-xl font-semibold",children:"Effets"})}),e.jsx(m,{children:e.jsx("ul",{className:"space-y-2",children:a.metadata.effects.map(l=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),e.jsx("span",{children:l})]},`effect-${l}`))})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.tags.map(l=>e.jsx(p,{variant:"secondary",children:l},l))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(o,{className:"flex-1",size:"lg",children:[e.jsx(_,{className:"mr-2 h-5 w-5"}),"Ajouter au panier"]}),e.jsxs(o,{variant:"outline",size:"lg",children:[e.jsx(q,{className:"mr-2 h-5 w-5"}),"Liste de souhaits"]}),e.jsx(o,{variant:"outline",size:"icon",className:"h-12 w-12",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${a.metadata.isAvailable?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-sm",children:a.metadata.isAvailable?"En stock":"Rupture de stock"})]})]})})]})]})})};export{ie as default};
