import{r as d,g as le,j as f,k as ce,ag as de,i as _,h as K,t as k,n as ue,$ as fe,b as N}from"./index-A8xx-xxW.js";import{e as $}from"./select-pnobd5xa.js";import{u as me}from"./index-DNZbadIk.js";var X=["PageUp","PageDown"],G=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],W={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},A="Slider",[H,he,pe]=de(A),[q,Ve]=ce(A,[pe]),[ge,T]=q(A),J=d.forwardRef((e,t)=>{const{name:o,min:n=0,max:i=100,step:a=1,orientation:r="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:h=[n],value:x,onValueChange:s=()=>{},onValueCommit:u=()=>{},inverted:v=!1,form:y,...S}=e,p=d.useRef(new Set),m=d.useRef(0),b=r==="horizontal"?Se:ve,[g=[],M]=le({prop:x,defaultProp:h,onChange:w=>{var E;(E=[...p.current][m.current])==null||E.focus(),s(w)}}),V=d.useRef(g);function B(w){const P=Pe(g,w);j(w,P)}function se(w){j(w,m.current)}function ae(){const w=V.current[m.current];g[m.current]!==w&&u(g)}function j(w,P,{commit:E}={commit:!1}){const U=Ce(a),z=_e(Math.round((w-n)/a)*a+n,U),I=$(z,[n,i]);M((C=[])=>{const R=xe(C,I,P);if(Ee(R,c*a)){m.current=R.indexOf(I);const Y=String(R)!==String(C);return Y&&E&&u(R),Y?R:C}else return C})}return f.jsx(ge,{scope:e.__scopeSlider,name:o,disabled:l,min:n,max:i,valueIndexToChangeRef:m,thumbs:p.current,values:g,orientation:r,form:y,children:f.jsx(H.Provider,{scope:e.__scopeSlider,children:f.jsx(H.Slot,{scope:e.__scopeSlider,children:f.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...S,ref:t,onPointerDown:_(S.onPointerDown,()=>{l||(V.current=g)}),min:n,max:i,inverted:v,onSlideStart:l?void 0:B,onSlideMove:l?void 0:se,onSlideEnd:l?void 0:ae,onHomeKeyDown:()=>!l&&j(n,0,{commit:!0}),onEndKeyDown:()=>!l&&j(i,g.length-1,{commit:!0}),onStepKeyDown:({event:w,direction:P})=>{if(!l){const z=X.includes(w.key)||w.shiftKey&&G.includes(w.key)?10:1,I=m.current,C=g[I],R=a*z*P;j(C+R,I,{commit:!0})}}})})})})});J.displayName=A;var[Q,Z]=q(A,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Se=d.forwardRef((e,t)=>{const{min:o,max:n,dir:i,inverted:a,onSlideStart:r,onSlideMove:l,onSlideEnd:c,onStepKeyDown:h,...x}=e,[s,u]=d.useState(null),v=k(t,b=>u(b)),y=d.useRef(void 0),S=ue(i),p=S==="ltr",m=p&&!a||!p&&a;function D(b){const g=y.current||s.getBoundingClientRect(),M=[0,g.width],B=F(M,m?[o,n]:[n,o]);return y.current=g,B(b-g.left)}return f.jsx(Q,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:f.jsx(ee,{dir:S,"data-orientation":"horizontal",...x,ref:v,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const g=D(b.clientX);r==null||r(g)},onSlideMove:b=>{const g=D(b.clientX);l==null||l(g)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:b=>{const M=W[m?"from-left":"from-right"].includes(b.key);h==null||h({event:b,direction:M?-1:1})}})})}),ve=d.forwardRef((e,t)=>{const{min:o,max:n,inverted:i,onSlideStart:a,onSlideMove:r,onSlideEnd:l,onStepKeyDown:c,...h}=e,x=d.useRef(null),s=k(t,x),u=d.useRef(void 0),v=!i;function y(S){const p=u.current||x.current.getBoundingClientRect(),m=[0,p.height],b=F(m,v?[n,o]:[o,n]);return u.current=p,b(S-p.top)}return f.jsx(Q,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:f.jsx(ee,{"data-orientation":"vertical",...h,ref:s,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const p=y(S.clientY);a==null||a(p)},onSlideMove:S=>{const p=y(S.clientY);r==null||r(p)},onSlideEnd:()=>{u.current=void 0,l==null||l()},onStepKeyDown:S=>{const m=W[v?"from-bottom":"from-top"].includes(S.key);c==null||c({event:S,direction:m?-1:1})}})})}),ee=d.forwardRef((e,t)=>{const{__scopeSlider:o,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:r,onEndKeyDown:l,onStepKeyDown:c,...h}=e,x=T(A,o);return f.jsx(K.span,{...h,ref:t,onKeyDown:_(e.onKeyDown,s=>{s.key==="Home"?(r(s),s.preventDefault()):s.key==="End"?(l(s),s.preventDefault()):X.concat(G).includes(s.key)&&(c(s),s.preventDefault())}),onPointerDown:_(e.onPointerDown,s=>{const u=s.target;u.setPointerCapture(s.pointerId),s.preventDefault(),x.thumbs.has(u)?u.focus():n(s)}),onPointerMove:_(e.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&i(s)}),onPointerUp:_(e.onPointerUp,s=>{const u=s.target;u.hasPointerCapture(s.pointerId)&&(u.releasePointerCapture(s.pointerId),a(s))})})}),te="SliderTrack",ne=d.forwardRef((e,t)=>{const{__scopeSlider:o,...n}=e,i=T(te,o);return f.jsx(K.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});ne.displayName=te;var O="SliderRange",oe=d.forwardRef((e,t)=>{const{__scopeSlider:o,...n}=e,i=T(O,o),a=Z(O,o),r=d.useRef(null),l=k(t,r),c=i.values.length,h=i.values.map(u=>ie(u,i.min,i.max)),x=c>1?Math.min(...h):0,s=100-Math.max(...h);return f.jsx(K.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:x+"%",[a.endEdge]:s+"%"}})});oe.displayName=O;var L="SliderThumb",re=d.forwardRef((e,t)=>{const o=he(e.__scopeSlider),[n,i]=d.useState(null),a=k(t,l=>i(l)),r=d.useMemo(()=>n?o().findIndex(l=>l.ref.current===n):-1,[o,n]);return f.jsx(be,{...e,ref:a,index:r})}),be=d.forwardRef((e,t)=>{const{__scopeSlider:o,index:n,name:i,...a}=e,r=T(L,o),l=Z(L,o),[c,h]=d.useState(null),x=k(t,D=>h(D)),s=c?r.form||!!c.closest("form"):!0,u=fe(c),v=r.values[n],y=v===void 0?0:ie(v,r.min,r.max),S=ye(n,r.values.length),p=u==null?void 0:u[l.size],m=p?Re(p,y,l.direction):0;return d.useEffect(()=>{if(c)return r.thumbs.add(c),()=>{r.thumbs.delete(c)}},[c,r.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${m}px)`},children:[f.jsx(H.ItemSlot,{scope:e.__scopeSlider,children:f.jsx(K.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":r.min,"aria-valuenow":v,"aria-valuemax":r.max,"aria-orientation":r.orientation,"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,tabIndex:r.disabled?void 0:0,...a,ref:x,style:v===void 0?{display:"none"}:e.style,onFocus:_(e.onFocus,()=>{r.valueIndexToChangeRef.current=n})})}),s&&f.jsx(we,{name:i??(r.name?r.name+(r.values.length>1?"[]":""):void 0),form:r.form,value:v},n)]})});re.displayName=L;var we=e=>{const{value:t,...o}=e,n=d.useRef(null),i=me(t);return d.useEffect(()=>{const a=n.current,r=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(r,"value").set;if(i!==t&&c){const h=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(h)}},[i,t]),f.jsx("input",{style:{display:"none"},...o,ref:n,defaultValue:t})};function xe(e=[],t,o){const n=[...e];return n[o]=t,n.sort((i,a)=>i-a)}function ie(e,t,o){const a=100/(o-t)*(e-t);return $(a,[0,100])}function ye(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Pe(e,t){if(e.length===1)return 0;const o=e.map(i=>Math.abs(i-t)),n=Math.min(...o);return o.indexOf(n)}function Re(e,t,o){const n=e/2,a=F([0,50],[0,n]);return(n-a(t)*o)*o}function De(e){return e.slice(0,-1).map((t,o)=>e[o+1]-t)}function Ee(e,t){if(t>0){const o=De(e);return Math.min(...o)>=t}return!0}function F(e,t){return o=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(o-e[0])}}function Ce(e){return(String(e).split(".")[1]||"").length}function _e(e,t){const o=Math.pow(10,t);return Math.round(e*o)/o}var Ae=J,Me=ne,je=oe,Ie=re;function Be({className:e,defaultValue:t,value:o,min:n=0,max:i=100,...a}){const r=d.useMemo(()=>Array.isArray(o)?o:Array.isArray(t)?t:[n,i],[o,t,n,i]);return f.jsxs(Ae,{"data-slot":"slider",defaultValue:t,value:o,min:n,max:i,className:N("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[f.jsx(Me,{"data-slot":"slider-track",className:N("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:f.jsx(je,{"data-slot":"slider-range",className:N("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:r.length},(l,c)=>f.jsx(Ie,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}export{Be as S};
