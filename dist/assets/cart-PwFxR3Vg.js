import{c as g,r as b,j as e,h as w,b as C,u as P,B as l,S as z,L as x,m as T}from"./index-A8xx-xxW.js";import{C as h,a as u,b as S}from"./card-DVQQUcVi.js";import{B as j}from"./badge-Dcq_zIk8.js";import{T as E}from"./trash-2-IQX5vnBl.js";import{P as I}from"./plus-B1589Br_.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M5 12h14",key:"1ays0h"}]],O=g("Minus",F);var k="Separator",N="horizontal",A=["horizontal","vertical"],f=b.forwardRef((a,t)=>{const{decorative:n,orientation:r=N,...d}=a,i=R(r)?r:N,o=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(w.div,{"data-orientation":i,...o,...d,ref:t})});f.displayName=k;function R(a){return A.includes(a)}var _=f;function q({className:a,orientation:t="horizontal",decorative:n=!0,...r}){return e.jsx(_,{"data-slot":"separator-root",decorative:n,orientation:t,className:C("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...r})}const V=()=>{var o,m,p;const{items:a,updateQuantity:t,removeFromCart:n,getTotalPrice:r}=P(),d=()=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx(z,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Votre panier est vide"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Ajoutez des éléments à votre panier pour les retrouver ici"}),e.jsx(x,{to:"/catalog",children:e.jsx(l,{children:"Explorer le catalogue"})})]}),i=({item:s})=>{const v=y=>y.image||"/placeholder.svg";return e.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"group",children:e.jsx(h,{className:"border-none",children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-[60%_1fr_auto] gap-4",children:[e.jsx(x,{to:`/${s.type}s/${s.id}`,className:"relative aspect-[16/9]",children:e.jsx("img",{src:v(s),alt:s.name,className:"absolute inset-0 h-full w-full object-cover rounded-md"})}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsx(x,{to:`/${s.type}s/${s.id}`,className:"font-medium hover:underline",children:s.name}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:s.description})]})}),e.jsx("div",{className:"mt-4 flex items-center gap-2",children:e.jsx(j,{variant:"secondary",children:s.type.charAt(0).toUpperCase()+s.type.slice(1)})})]}),e.jsxs("div",{className:"flex flex-col items-end justify-between h-full",children:[e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>n(s.id),children:e.jsx(E,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsxs("span",{className:"font-bold text-primary",children:[s.price.currency," ",(s.price.amount*s.quantity).toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{variant:"outline",size:"icon",onClick:()=>t(s.id,Math.max(0,s.quantity-1)),disabled:s.quantity<=1,children:e.jsx(O,{className:"h-4 w-4"})}),e.jsx("span",{className:"w-8 text-center",children:s.quantity}),e.jsx(l,{variant:"outline",size:"icon",onClick:()=>t(s.id,s.quantity+1),children:e.jsx(I,{className:"h-4 w-4"})})]})]})]})]})})})})};if(!a.length)return e.jsx(d,{});const c=r();return e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Panier"}),e.jsxs(j,{variant:"secondary",className:"text-lg px-4 py-2",children:[a.length," éléments"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_300px] gap-8",children:[e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsx(i,{item:s},s.id))}),e.jsx("div",{className:"space-y-6",children:e.jsxs(h,{className:"border-none",children:[e.jsxs(u,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Résumé de la commande"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Sous-total"}),e.jsxs("span",{children:[(o=a[0])==null?void 0:o.price.currency," ",c.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Taxes"}),e.jsxs("span",{children:[(m=a[0])==null?void 0:m.price.currency," ",(c*.2).toFixed(2)]})]})]}),e.jsx(q,{className:"my-4"}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:[(p=a[0])==null?void 0:p.price.currency," ",(c*1.2).toFixed(2)]})]})]}),e.jsx(S,{className:"p-6 pt-0",children:e.jsx(l,{className:"w-full",size:"lg",children:"Passer la commande"})})]})})]})]})};export{V as default};
