import{r as e}from"./index-A8xx-xxW.js";function x({items:t,itemsPerPage:n=12,delay:l=500}){const[b,a]=e.useState([]),[f,d]=e.useState(1),[o,i]=e.useState(!1),[c,p]=e.useState(!0),u=e.useRef(null),s=e.useRef(null);e.useEffect(()=>{a(t.slice(0,n)),p(t.length>n),d(1)},[t,n]);const I=e.useCallback(()=>{if(o||!c)return;i(!0);const r=f+1,h=(r-1)*n,S=h+n;setTimeout(()=>{const R=t.slice(h,S);a(g=>[...g,...R]),d(r),p(S<t.length),i(!1)},l)},[t,o,c,f,n,l]);return e.useEffect(()=>{if(u.current)return s.current=new IntersectionObserver(r=>{r[0].isIntersecting&&I()},{threshold:.1}),s.current.observe(u.current),()=>{s.current&&s.current.disconnect()}},[I]),{displayedItems:b,loading:o,hasMore:c,loaderRef:u}}export{x as u};
